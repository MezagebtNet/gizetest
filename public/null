$slug = 'addmes';

$gize_channel = GizeChannel::where('slug', $slug)->firstOrFail();
        $user_id = 2;

        $user_batches = BatchUser::where('user_id', $user_id)
            ->where('active', 1)
            ->get()->pluck('batch_id');

        $active_batches = Batch::whereIn('id', $user_batches)->where('status', 1);
        
        $batches = $active_batches->where('gize_channel_id', $gize_channel->id)->get();
        $schedules = collect([]);

foreach($batches as $batch){
	$schedule = Batch::find($batch->id)->first()->channelvideos()->get();
  	echo $schedule;
}
$slug = 'addmes';

$gize_channel = GizeChannel::where('slug', $slug)->firstOrFail();
        $user_id = 2;

        $user_batches = BatchUser::where('user_id', $user_id)
            ->where('active', 1)
            ->get()->pluck('batch_id');

        $active_batches = Batch::whereIn('id', $user_batches)->where('status', 1);
        
        $batches = $active_batches->where('gize_channel_id', $gize_channel->id)->get();
        $schedules = collect([]);

foreach($batches as $batch){
	$schedule = Batch::find($batch->id)->first()->channelvideos()->get();
  	$schedules = $schedules->merge($schedule);
}

return $schedules;
$slug = 'addmes';

$gize_channel = GizeChannel::where('slug', $slug)->firstOrFail();
        $user_id = 2;

        $user_batches = BatchUser::where('user_id', $user_id)
            ->where('active', 1)
            ->get()->pluck('batch_id');

        $active_batches = Batch::whereIn('id', $user_batches)->where('status', 1);
        
        $batches = $active_batches->where('gize_channel_id', $gize_channel->id)->get();
        $schedules = collect([]);

foreach($batches as $batch){
	$schedule = Batch::find($batch->id)->first()->channelvideos()->get();
   	$schedule->start = \Carbon\Carbon::createFromTimestamp(strtotime($schedule->pivot->starts_at))
                ->timezone(\Config::get('app.timezone'))
                ->toDateTimeString();
 	$schedule->end = \Carbon\Carbon::createFromTimestamp(strtotime($schedule->pivot->ends_at))
                ->timezone(\Config::get('app.timezone'))
                ->toDateTimeString();

  	$schedules = $schedules->merge($schedule);
}

return $schedules;
$slug = 'addmes';

$gize_channel = GizeChannel::where('slug', $slug)->firstOrFail();
        $user_id = 2;

        $user_batches = BatchUser::where('user_id', $user_id)
            ->where('active', 1)
            ->get()->pluck('batch_id');

        $active_batches = Batch::whereIn('id', $user_batches)->where('status', 1);
        
        $batches = $active_batches->where('gize_channel_id', $gize_channel->id)->get();
        $schedules = collect([]);

foreach($batches as $batch){
	$schedule = Batch::find($batch->id)->first()->channelvideos();
   	$schedule->start = \Carbon\Carbon::createFromTimestamp(strtotime($schedule->pivot->starts_at))
                ->timezone(\Config::get('app.timezone'))
                ->toDateTimeString();
 	$schedule->end = \Carbon\Carbon::createFromTimestamp(strtotime($schedule->pivot->ends_at))
                ->timezone(\Config::get('app.timezone'))
                ->toDateTimeString();

  	$schedules = $schedules->merge($schedule);
}

return $schedules;
$slug = 'addmes';

$gize_channel = GizeChannel::where('slug', $slug)->firstOrFail();
        $user_id = 2;

        $user_batches = BatchUser::where('user_id', $user_id)
            ->where('active', 1)
            ->get()->pluck('batch_id');

        $active_batches = Batch::whereIn('id', $user_batches)->where('status', 1);
        
        $batches = $active_batches->where('gize_channel_id', $gize_channel->id)->get();
        $schedules = collect([]);

foreach($batches as $batch){
	$schedule = Batch::find($batch->id)->first()->channelvideos()->first();
   	$schedule->start = \Carbon\Carbon::createFromTimestamp(strtotime($schedule->pivot->starts_at))
                ->timezone(\Config::get('app.timezone'))
                ->toDateTimeString();
 	$schedule->end = \Carbon\Carbon::createFromTimestamp(strtotime($schedule->pivot->ends_at))
                ->timezone(\Config::get('app.timezone'))
                ->toDateTimeString();

  	$schedules = $schedules->merge($schedule);
}

return $schedules;
$slug = 'addmes';

$gize_channel = GizeChannel::where('slug', $slug)->firstOrFail();
        $user_id = 2;

        $user_batches = BatchUser::where('user_id', $user_id)
            ->where('active', 1)
            ->get()->pluck('batch_id');

        $active_batches = Batch::whereIn('id', $user_batches)->where('status', 1);
        
        $batches = $active_batches->where('gize_channel_id', $gize_channel->id)->get();
        $schedules = collect([]);

foreach($batches as $batch){
	$schedule = Batch::find($batch->id)->first()->channelvideos()->get();
   	$schedule->start = \Carbon\Carbon::createFromTimestamp(strtotime($schedule->pivot->starts_at))
                ->timezone(\Config::get('app.timezone'))
                ->toDateTimeString();
 	$schedule->end = \Carbon\Carbon::createFromTimestamp(strtotime($schedule->pivot->ends_at))
                ->timezone(\Config::get('app.timezone'))
                ->toDateTimeString();

  	$schedules = $schedules->merge($schedule);
}

return $schedules;
$slug = 'addmes';

$gize_channel = GizeChannel::where('slug', $slug)->firstOrFail();
        $user_id = 2;

        $user_batches = BatchUser::where('user_id', $user_id)
            ->where('active', 1)
            ->get()->pluck('batch_id');

        $active_batches = Batch::whereIn('id', $user_batches)->where('status', 1);
        
        $batches = $active_batches->where('gize_channel_id', $gize_channel->id)->get();
        $events = collect([]);

foreach($batches as $batch){
	$video_schedules = Batch::find($batch->id)->first()->channelvideos()->get();
  	foreach($video_schedules as $event){
	 	$event->start = \Carbon\Carbon::createFromTimestamp(strtotime($schedule->pivot->starts_at))
                ->timezone(\Config::get('app.timezone'))
                ->toDateTimeString();
		$event->end = \Carbon\Carbon::createFromTimestamp(strtotime($schedule->pivot->ends_at))
                ->timezone(\Config::get('app.timezone'))
                ->toDateTimeString();
	}
   	

  	$events = $events->merge($event);
}

return $events;
$slug = 'addmes';

$gize_channel = GizeChannel::where('slug', $slug)->firstOrFail();
        $user_id = 2;

        $user_batches = BatchUser::where('user_id', $user_id)
            ->where('active', 1)
            ->get()->pluck('batch_id');

        $active_batches = Batch::whereIn('id', $user_batches)->where('status', 1);
        
        $batches = $active_batches->where('gize_channel_id', $gize_channel->id)->get();
        $events = collect([]);

foreach($batches as $batch){
	$video_schedules = Batch::find($batch->id)->first()->channelvideos();
  	foreach($video_schedules as $event){
	 	$event->start = \Carbon\Carbon::createFromTimestamp(strtotime($schedule->pivot->starts_at))
                ->timezone(\Config::get('app.timezone'))
                ->toDateTimeString();
		$event->end = \Carbon\Carbon::createFromTimestamp(strtotime($schedule->pivot->ends_at))
                ->timezone(\Config::get('app.timezone'))
                ->toDateTimeString();
	}
   	

  	$events = $events->merge($event);
}

return $events;
$slug = 'addmes';

$gize_channel = GizeChannel::where('slug', $slug)->firstOrFail();
        $user_id = 2;

        $user_batches = BatchUser::where('user_id', $user_id)
            ->where('active', 1)
            ->get()->pluck('batch_id');

        $active_batches = Batch::whereIn('id', $user_batches)->where('status', 1);
        
        $batches = $active_batches->where('gize_channel_id', $gize_channel->id)->get();
        $events = collect([]);

foreach($batches as $batch){
	$video_schedules = Batch::find($batch->id)->first()->channelvideos()->toArray();
  	foreach($video_schedules as $event){
	 	$event->start = \Carbon\Carbon::createFromTimestamp(strtotime($schedule->pivot->starts_at))
                ->timezone(\Config::get('app.timezone'))
                ->toDateTimeString();
		$event->end = \Carbon\Carbon::createFromTimestamp(strtotime($schedule->pivot->ends_at))
                ->timezone(\Config::get('app.timezone'))
                ->toDateTimeString();
	}
   	

  	$events = $events->merge($event);
}

return $events;
$slug = 'addmes';

$gize_channel = GizeChannel::where('slug', $slug)->firstOrFail();
        $user_id = 2;

        $user_batches = BatchUser::where('user_id', $user_id)
            ->where('active', 1)
            ->get()->pluck('batch_id');

        $active_batches = Batch::whereIn('id', $user_batches)->where('status', 1);
        
        $batches = $active_batches->where('gize_channel_id', $gize_channel->id)->get();
        $events = collect([]);

foreach($batches as $batch){
	$video_schedules = Batch::find($batch->id)->first()->channelvideos();
  	foreach($video_schedules as $event){
	 	$event->first()->start = \Carbon\Carbon::createFromTimestamp(strtotime($schedule->pivot->starts_at))
                ->timezone(\Config::get('app.timezone'))
                ->toDateTimeString();
		$event->first()->end = \Carbon\Carbon::createFromTimestamp(strtotime($schedule->pivot->ends_at))
                ->timezone(\Config::get('app.timezone'))
                ->toDateTimeString();
	}
   	

  	$events = $events->merge($event);
}

return $events;
$slug = 'addmes';

$gize_channel = GizeChannel::where('slug', $slug)->firstOrFail();
        $user_id = 2;

        $user_batches = BatchUser::where('user_id', $user_id)
            ->where('active', 1)
            ->get()->pluck('batch_id');

        $active_batches = Batch::whereIn('id', $user_batches)->where('status', 1);
        

        $batches = $active_batches->where('gize_channel_id', $gize_channel->id)->get();
        $events = collect([]);

foreach($batches as $batch){
	$video_schedules = Batch::find($batch->id)->first()->channelvideos();
  	foreach($video_schedules as $event){
	 	$event->first()->start = \Carbon\Carbon::createFromTimestamp(strtotime($schedule->pivot->starts_at))
                ->timezone(\Config::get('app.timezone'))
                ->toDateTimeString();
		$event->first()->end = \Carbon\Carbon::createFromTimestamp(strtotime($schedule->pivot->ends_at))
                ->timezone(\Config::get('app.timezone'))
                ->toDateTimeString();
	}
   	

  	$events = $events->merge($event);
}

return $events;
$slug = 'addmes';

$gize_channel = GizeChannel::where('slug', $slug)->firstOrFail();
        $user_id = 2;

        $user_batches = BatchUser::where('user_id', $user_id)
            ->where('active', 1)
            ->get()->pluck('batch_id');

        $active_batches = Batch::whereIn('id', $user_batches)->where('status', 1);
        

        $batches = $active_batches->where('gize_channel_id', $gize_channel->id)->get();
        $events = collect([]);

foreach($batches as $batch){
	$video_schedules = Batch::find($batch->id)->first()->channelvideos();
  	foreach($video_schedules as $event){
	 	$event->start = \Carbon\Carbon::createFromTimestamp(strtotime($event->pivot->starts_at))
                ->timezone(\Config::get('app.timezone'))
                ->toDateTimeString();
		$event->end = \Carbon\Carbon::createFromTimestamp(strtotime($event->pivot->ends_at))
                ->timezone(\Config::get('app.timezone'))
                ->toDateTimeString();
	}
   	

  	$events = $events->merge($event);
}

return $events;
$slug = 'addmes';

$gize_channel = GizeChannel::where('slug', $slug)->firstOrFail();
        $user_id = 2;

        $user_batches = BatchUser::where('user_id', $user_id)
            ->where('active', 1)
            ->get()->pluck('batch_id');

        $active_batches = Batch::whereIn('id', $user_batches)->where('status', 1);
        

        $batches = $active_batches->where('gize_channel_id', $gize_channel->id)->get();
        $events = collect([]);

foreach($batches as $batch){
	$video_schedules = Batch::find($batch->id)->first()->channelvideos();
  	foreach($video_schedules as $event){
	 	$event->start = \Carbon\Carbon::createFromTimestamp(strtotime($event->first()->pivot->starts_at))
                ->timezone(\Config::get('app.timezone'))
                ->toDateTimeString();
		$event->end = \Carbon\Carbon::createFromTimestamp(strtotime($event->first()->pivot->ends_at))
                ->timezone(\Config::get('app.timezone'))
                ->toDateTimeString();
	}
   	

  	$events = $events->merge($event);
}

return $events;
$slug = 'addmes';

$gize_channel = GizeChannel::where('slug', $slug)->firstOrFail();
        $user_id = 2;

        $user_batches = BatchUser::where('user_id', $user_id)
            ->where('active', 1)
            ->get()->pluck('batch_id');

        $active_batches = Batch::whereIn('id', $user_batches)->where('status', 1);
        

        $batches = $active_batches->where('gize_channel_id', $gize_channel->id)->get();
        $events = collect([]);

foreach($batches as $batch){
	$video_schedules = Batch::find($batch->id)->first()->channelvideos();
  	foreach($video_schedules as $event){
	 	$event->start = \Carbon\Carbon::createFromTimestamp(strtotime($event->pivot->starts_at))
                ->timezone(\Config::get('app.timezone'))
                ->toDateTimeString();
		$event->end = \Carbon\Carbon::createFromTimestamp(strtotime($event->first()->pivot->ends_at))
                ->timezone(\Config::get('app.timezone'))
                ->toDateTimeString();
	}
   	

  	$events = $events->merge($event);
}

return $events;
$slug = 'addmes';

$gize_channel = GizeChannel::where('slug', $slug)->firstOrFail();
        $user_id = 2;

        $user_batches = BatchUser::where('user_id', $user_id)
            ->where('active', 1)
            ->get()->pluck('batch_id');

        $active_batches = Batch::whereIn('id', $user_batches)->where('status', 1);
        

        $batches = $active_batches->where('gize_channel_id', $gize_channel->id)->get();
        $events = collect([]);

foreach($batches as $batch){
	$video_schedules = Batch::find($batch->id)->first()->channelvideos();
  	foreach($video_schedules as $event){
	 	$event->start = \Carbon\Carbon::createFromTimestamp(strtotime($event->starts_at))
                ->timezone(\Config::get('app.timezone'))
                ->toDateTimeString();
		$event->end = \Carbon\Carbon::createFromTimestamp(strtotime($event->first()->pivot->ends_at))
                ->timezone(\Config::get('app.timezone'))
                ->toDateTimeString();
	}
   	

  	$events = $events->merge($event);
}

return $events;
$slug = 'addmes';

$gize_channel = GizeChannel::where('slug', $slug)->firstOrFail();
        $user_id = 2;

        $user_batches = BatchUser::where('user_id', $user_id)
            ->where('active', 1)
            ->get()->pluck('batch_id');

        $active_batches = Batch::whereIn('id', $user_batches)->where('status', 1);
        

        $batches = $active_batches->where('gize_channel_id', $gize_channel->id)->get();
        $events = collect([]);

foreach($batches as $batch){
	$video_schedules = Batch::find($batch->id)->first()->channelvideos();
  	foreach($video_schedules as $event){
	 	$event->start = \Carbon\Carbon::createFromTimestamp(strtotime($event->starts_at))
                ->timezone(\Config::get('app.timezone'))
                ->toDateTimeString();
		$event->end = \Carbon\Carbon::createFromTimestamp(strtotime($event->first()->ends_at))
                ->timezone(\Config::get('app.timezone'))
                ->toDateTimeString();
	}
   	

  	$events = $events->merge($event);
}

return $events;
$slug = 'addmes';

$gize_channel = GizeChannel::where('slug', $slug)->firstOrFail();
        $user_id = 2;

        $user_batches = BatchUser::where('user_id', $user_id)
            ->where('active', 1)
            ->get()->pluck('batch_id');

        $active_batches = Batch::whereIn('id', $user_batches)->where('status', 1);
        

        $batches = $active_batches->where('gize_channel_id', $gize_channel->id)->get();
        $events = collect([]);

foreach($batches as $batch){
	$video_schedules = Batch::find($batch->id)->first()->channelvideos();
  	foreach($video_schedules as $event){
	  dd($event);
	 	$event->start = \Carbon\Carbon::createFromTimestamp(strtotime($event->starts_at))
                ->timezone(\Config::get('app.timezone'))
                ->toDateTimeString();
		$event->end = \Carbon\Carbon::createFromTimestamp(strtotime($event->first()->ends_at))
                ->timezone(\Config::get('app.timezone'))
                ->toDateTimeString();
	}
   	

  	$events = $events->merge($event);
}

return $events;
$slug = 'addmes';

$gize_channel = GizeChannel::where('slug', $slug)->firstOrFail();
        $user_id = 2;

        $user_batches = BatchUser::where('user_id', $user_id)
            ->where('active', 1)
            ->get()->pluck('batch_id');

        $active_batches = Batch::whereIn('id', $user_batches)->where('status', 1);
        

        $batches = $active_batches->where('gize_channel_id', $gize_channel->id)->get();
        $events = collect([]);

foreach($batches as $batch){
	$video_schedules = Batch::find($batch->id)->first()->channelvideos();
  	foreach($video_schedules as $event){
	  echo($event);
	 	$event->start = \Carbon\Carbon::createFromTimestamp(strtotime($event->starts_at))
                ->timezone(\Config::get('app.timezone'))
                ->toDateTimeString();
		$event->end = \Carbon\Carbon::createFromTimestamp(strtotime($event->first()->ends_at))
                ->timezone(\Config::get('app.timezone'))
                ->toDateTimeString();
	}
   	

  	$events = $events->merge($event);
}

return $events;
$slug = 'addmes';

$gize_channel = GizeChannel::where('slug', $slug)->firstOrFail();
        $user_id = 2;

        $user_batches = BatchUser::where('user_id', $user_id)
            ->where('active', 1)
            ->get()->pluck('batch_id');

        $active_batches = Batch::whereIn('id', $user_batches)->where('status', 1);
        

        $batches = $active_batches->where('gize_channel_id', $gize_channel->id)->get();
        $events = collect([]);

foreach($batches as $batch){
	$video_schedules = Batch::find($batch->id)->first()->channelvideos()->get();
  	foreach($video_schedules as $event){
	  echo($event);
	 	$event->start = \Carbon\Carbon::createFromTimestamp(strtotime($event->starts_at))
                ->timezone(\Config::get('app.timezone'))
                ->toDateTimeString();
		$event->end = \Carbon\Carbon::createFromTimestamp(strtotime($event->first()->ends_at))
                ->timezone(\Config::get('app.timezone'))
                ->toDateTimeString();
	}
   	

  	$events = $events->merge($event);
}

return $events;
$slug = 'addmes';

$gize_channel = GizeChannel::where('slug', $slug)->firstOrFail();
        $user_id = 2;

        $user_batches = BatchUser::where('user_id', $user_id)
            ->where('active', 1)
            ->get()->pluck('batch_id');

        $active_batches = Batch::whereIn('id', $user_batches)->where('status', 1);
        

        $batches = $active_batches->where('gize_channel_id', $gize_channel->id)->get();
        $events = collect([]);

foreach($batches as $batch){
	$video_schedules = Batch::find($batch->id)->first()->channelvideos()->get();
  	foreach($video_schedules as $event){
	  
	 	$event->start = \Carbon\Carbon::createFromTimestamp(strtotime($event->starts_at))
                ->timezone(\Config::get('app.timezone'))
                ->toDateTimeString();
		$event->end = \Carbon\Carbon::createFromTimestamp(strtotime($event->first()->ends_at))
                ->timezone(\Config::get('app.timezone'))
                ->toDateTimeString();
	}
   	

  	$events = $events->merge($event);
}

return $events;
$slug = 'addmes';

$gize_channel = GizeChannel::where('slug', $slug)->firstOrFail();
        $user_id = 2;

        $user_batches = BatchUser::where('user_id', $user_id)
            ->where('active', 1)
            ->get()->pluck('batch_id');

        $active_batches = Batch::whereIn('id', $user_batches)->where('status', 1);
        

        $batches = $active_batches->where('gize_channel_id', $gize_channel->id)->get();
        $events = collect([]);

foreach($batches as $batch){
  echo $batch;
	$video_schedules = Batch::find($batch->id)->first()->channelvideos()->get();
  	foreach($video_schedules as $event){
	  
	 	$event->start = \Carbon\Carbon::createFromTimestamp(strtotime($event->starts_at))
                ->timezone(\Config::get('app.timezone'))
                ->toDateTimeString();
		$event->end = \Carbon\Carbon::createFromTimestamp(strtotime($event->first()->ends_at))
                ->timezone(\Config::get('app.timezone'))
                ->toDateTimeString();
	}
   	

  	$events = $events->merge($event);
}

return $events;
$slug = 'addmes';

$gize_channel = GizeChannel::where('slug', $slug)->firstOrFail();
        $user_id = 2;

        $user_batches = BatchUser::where('user_id', $user_id)
            ->where('active', 1)
            ->get()->pluck('batch_id');

        $active_batches = Batch::whereIn('id', $user_batches)->where('status', 1);
        

        $batches = $active_batches->where('gize_channel_id', $gize_channel->id)->get();
        $events = collect([]);

foreach($batches as $batch){
  echo $batch;
	$video_schedules = Batch::find($batch->id)->channelvideos()->get();
  	foreach($video_schedules as $event){
	  
	 	$event->start = \Carbon\Carbon::createFromTimestamp(strtotime($event->starts_at))
                ->timezone(\Config::get('app.timezone'))
                ->toDateTimeString();
		$event->end = \Carbon\Carbon::createFromTimestamp(strtotime($event->first()->ends_at))
                ->timezone(\Config::get('app.timezone'))
                ->toDateTimeString();
	}
   	

  	$events = $events->merge($event);
}

return $events;
$slug = 'addmes';

$gize_channel = GizeChannel::where('slug', $slug)->firstOrFail();
        $user_id = 2;

        $user_batches = BatchUser::where('user_id', $user_id)
            ->where('active', 1)
            ->get()->pluck('batch_id');

        $active_batches = Batch::whereIn('id', $user_batches)->where('status', 1);
        

        $batches = $active_batches->where('gize_channel_id', $gize_channel->id)->get();
        $events = collect([]);

foreach($batches as $batch){
  	$video_schedules = Batch::find($batch->id)->channelvideos()->get();
  	foreach($video_schedules as $event){
	  
	 	$event->start = \Carbon\Carbon::createFromTimestamp(strtotime($event->starts_at))
                ->timezone(\Config::get('app.timezone'))
                ->toDateTimeString();
		$event->end = \Carbon\Carbon::createFromTimestamp(strtotime($event->first()->ends_at))
                ->timezone(\Config::get('app.timezone'))
                ->toDateTimeString();
	}
   	

  	$events = $events->merge($event);
}

return $events;
$slug = 'addmes';

$gize_channel = GizeChannel::where('slug', $slug)->firstOrFail();
        $user_id = 2;

        $user_batches = BatchUser::where('user_id', $user_id)
            ->where('active', 1)
            ->get()->pluck('batch_id');

        $active_batches = Batch::whereIn('id', $user_batches)->where('status', 1);
        

        $batches = $active_batches->where('gize_channel_id', $gize_channel->id)->get();
        $events = collect([]);

foreach($batches as $batch){
  	$video_schedules = Batch::find($batch->id)->channelvideos()->get();
  	foreach($video_schedules as $event){
	  
	 	$event->start = \Carbon\Carbon::createFromTimestamp(strtotime($event->starts_at))
                ->timezone(\Config::get('app.timezone'))
                ->toDateTimeString();
		$event->end = \Carbon\Carbon::createFromTimestamp(strtotime($event->ends_at))
                ->timezone(\Config::get('app.timezone'))
                ->toDateTimeString();
	}
   	

  	$events = $events->merge($event);
}

return $events;
$slug = 'addmes';

$gize_channel = GizeChannel::where('slug', $slug)->firstOrFail();
        $user_id = 2;

        $user_batches = BatchUser::where('user_id', $user_id)
            ->where('active', 1)
            ->get()->pluck('batch_id');

        $active_batches = Batch::whereIn('id', $user_batches)->where('status', 1);
        

        $batches = $active_batches->where('gize_channel_id', $gize_channel->id)->get();
        $events = collect([]);

foreach($batches as $batch){
  	$video_schedules = Batch::find($batch->id)->channelvideos()->get();
  	
   	

  	$events = $events->merge($event);
}

return $events;
$slug = 'addmes';

$gize_channel = GizeChannel::where('slug', $slug)->firstOrFail();
        $user_id = 2;

        $user_batches = BatchUser::where('user_id', $user_id)
            ->where('active', 1)
            ->get()->pluck('batch_id');

        $active_batches = Batch::whereIn('id', $user_batches)->where('status', 1);
        

        $batches = $active_batches->where('gize_channel_id', $gize_channel->id)->get();
        $events = collect([]);

foreach($batches as $batch){
  	$video_schedules = Batch::find($batch->id)->channelvideos()->get();
  	
  $event = $video_schedules;
   	

  	$events = $events->merge($event);
}

return $events;
$gize_channel = 1;
		$batch_id = 1;
        abort_if(!$gize_channel->isPermittedEditor(\Auth::user()), Response::HTTP_FORBIDDEN, 'Forbidden');


        $batches = Batch::
            where('gize_channel_id', $gize_channel_id)
            ->whereIn('status', [1, 2])             ->orderBy('id', 'DESC')->get();

        $batch = null;
        $schedules = collect([]);

        if (isset($batch_id)) {
            $batch = Batch::where('gize_channel_id', $gize_channel_id)
                ->where('id', $batch_id)->get();


            $schedules = Batch::find($batch_id)->first()->channelvideos()
                ->wherePivot('batch_id', $batch_id)
                ->where('gize_channel_id', $gize_channel_id)->get();
            foreach($schedules as $schedule){
                                $schedule->start = $schedule->pivot->starts_at;                 $schedule->end = $schedule->pivot->ends_at; 
            }
                        $batch = $batch[0];

        }   

                                        
                                $events = $schedules->toArray();

        $channelvideos = Channelvideo::where('gize_channel_id', $gize_channel_id)->where('active', 1)->orderBy('id', 'DESC')->get();
        foreach ($channelvideos as $vid) {
            $vid->text = $vid->title;
        }

        $channelvideos = $channelvideos->toArray();
$gize_channel = 1;
		$batch_id = 1;



        $batches = Batch::
            where('gize_channel_id', $gize_channel_id)
            ->whereIn('status', [1, 2])             ->orderBy('id', 'DESC')->get();

        $batch = null;
        $schedules = collect([]);

        if (isset($batch_id)) {
            $batch = Batch::where('gize_channel_id', $gize_channel_id)
                ->where('id', $batch_id)->get();


            $schedules = Batch::find($batch_id)->first()->channelvideos()
                ->wherePivot('batch_id', $batch_id)
                ->where('gize_channel_id', $gize_channel_id)->get();
            foreach($schedules as $schedule){
                                $schedule->start = $schedule->pivot->starts_at;                 $schedule->end = $schedule->pivot->ends_at; 
            }
                        $batch = $batch[0];

        }   

                                        
                                $events = $schedules->toArray();

        $channelvideos = Channelvideo::where('gize_channel_id', $gize_channel_id)->where('active', 1)->orderBy('id', 'DESC')->get();
        foreach ($channelvideos as $vid) {
            $vid->text = $vid->title;
        }

        $channelvideos = $channelvideos->toArray();
$gize_channel = 1;
		$batch_id = 1;



        $batches = Batch::
            where('gize_channel_id', $gize_channel_id)
            ->whereIn('status', [1, 2])             ->orderBy('id', 'DESC')->get();

        $batch = null;
        $schedules = collect([]);

        if (isset($batch_id)) {
            $batch = Batch::where('gize_channel_id', $gize_channel_id)
                ->where('id', $batch_id)->get();


            $schedules = Batch::find($batch_id)->first()->channelvideos()
                ->wherePivot('batch_id', $batch_id)
                ->where('gize_channel_id', $gize_channel_id)->get();
            foreach($schedules as $schedule){
                                $schedule->start = $schedule->pivot->starts_at;                 $schedule->end = $schedule->pivot->ends_at; 
            }
                        $batch = $batch[0];

        }   

                                        
                                $events = $schedules->toArray();

        $channelvideos = Channelvideo::where('gize_channel_id', $gize_channel_id)->where('active', 1)->orderBy('id', 'DESC')->get();
        foreach ($channelvideos as $vid) {
            $vid->text = $vid->title;
        }

        $channelvideos = $channelvideos->toArray();


return $events;
$gize_channel = 1;
		$batch_id = 1;



        $batches = Batch::
            where('gize_channel_id', $gize_channel_id)
            ->whereIn('status', [1, 2])             ->orderBy('id', 'DESC')->get();

        $batch = null;
        $schedules = collect([]);

        if (isset($batch_id)) {
            $batch = Batch::where('gize_channel_id', $gize_channel_id)
                ->where('id', $batch_id)->get();


            $schedules = Batch::find($batch_id)->first()->channelvideos()
                ->wherePivot('batch_id', $batch_id)
                ->where('gize_channel_id', $gize_channel_id)->get();
            foreach($schedules as $schedule){
                                $schedule->start = $schedule->pivot->starts_at; 
			  
                $schedule->end = $schedule->pivot->ends_at; 

            }
                        $batch = $batch[0];

        }   

        $events = $schedules->toArray();

        $channelvideos = Channelvideo::where('gize_channel_id', $gize_channel_id)->where('active', 1)->orderBy('id', 'DESC')->get();
        foreach ($channelvideos as $vid) {
            $vid->text = $vid->title;
        }

        $channelvideos = $channelvideos->toArray();


return $batch;
$gize_channel = 1;
		$batch_id = 1;



        $batches = Batch::
            where('gize_channel_id', $gize_channel_id)
            ->whereIn('status', [1, 2])             ->orderBy('id', 'DESC')->get();

        $batch = null;
        $schedules = collect([]);

        if (isset($batch_id)) {
		  echo 'here';
            $batch = Batch::where('gize_channel_id', $gize_channel_id)
                ->where('id', $batch_id)->get();


            $schedules = Batch::find($batch_id)->first()->channelvideos()
                ->wherePivot('batch_id', $batch_id)
                ->where('gize_channel_id', $gize_channel_id)->get();
            foreach($schedules as $schedule){
                                $schedule->start = $schedule->pivot->starts_at; 
			  
                $schedule->end = $schedule->pivot->ends_at; 

            }
                        $batch = $batch[0];

        }   

        $events = $schedules->toArray();

        $channelvideos = Channelvideo::where('gize_channel_id', $gize_channel_id)->where('active', 1)->orderBy('id', 'DESC')->get();
        foreach ($channelvideos as $vid) {
            $vid->text = $vid->title;
        }

        $channelvideos = $channelvideos->toArray();


return $batch;
$gize_channel = 1;
		


        $batches = Batch::
            where('gize_channel_id', $gize_channel_id)
            ->whereIn('status', [1, 2])             ->orderBy('id', 'DESC')->get();

        $batch = null;
        $schedules = collect([]);

        if (isset($batch_id)) {
		  echo 'here';
            $batch = Batch::where('gize_channel_id', $gize_channel_id)
                ->where('id', $batch_id)->get();


            $schedules = Batch::find($batch_id)->first()->channelvideos()
                ->wherePivot('batch_id', $batch_id)
                ->where('gize_channel_id', $gize_channel_id)->get();
            foreach($schedules as $schedule){
                                $schedule->start = $schedule->pivot->starts_at; 
			  
                $schedule->end = $schedule->pivot->ends_at; 

            }
                        $batch = $batch[0];

        }   

        $events = $schedules->toArray();

        $channelvideos = Channelvideo::where('gize_channel_id', $gize_channel_id)->where('active', 1)->orderBy('id', 'DESC')->get();
        foreach ($channelvideos as $vid) {
            $vid->text = $vid->title;
        }

        $channelvideos = $channelvideos->toArray();


return $batch;
$gize_channel = 1;
		$batch_id = 1;



        $batches = Batch::
            where('gize_channel_id', $gize_channel_id)
            ->whereIn('status', [1, 2])             ->orderBy('id', 'DESC')->get();

        $batch = null;
        $schedules = collect([]);

        if (isset($batch_id)) {
		  echo 'here';
            $batch = Batch::where('gize_channel_id', $gize_channel_id)
                ->where('id', $batch_id)->get();


            $schedules = Batch::find($batch_id)->first()->channelvideos()
                ->wherePivot('batch_id', $batch_id)
                ->where('gize_channel_id', $gize_channel_id)->get();
            foreach($schedules as $schedule){
                                $schedule->start = $schedule->pivot->starts_at; 
			  
                $schedule->end = $schedule->pivot->ends_at; 

            }
                        $batch = $batch[0];

        }   

        $events = $schedules->toArray();

        $channelvideos = Channelvideo::where('gize_channel_id', $gize_channel_id)->where('active', 1)->orderBy('id', 'DESC')->get();
        foreach ($channelvideos as $vid) {
            $vid->text = $vid->title;
        }

        $channelvideos = $channelvideos->toArray();


return $channelvideos;
$gize_channel = 1;
		$batch_id = 1;



        $batches = Batch::
            where('gize_channel_id', $gize_channel_id)
            ->whereIn('status', [1, 2])             ->orderBy('id', 'DESC')->get();

        $batch = null;
        $schedules = collect([]);

        if (isset($batch_id)) {
            $batch = Batch::where('gize_channel_id', $gize_channel_id)
                ->where('id', $batch_id)->get();

		  echo $batch;
            $schedules = Batch::find($batch_id)->first()->channelvideos()
                ->wherePivot('batch_id', $batch_id)
                ->where('gize_channel_id', $gize_channel_id)->get();
            foreach($schedules as $schedule){
                                $schedule->start = $schedule->pivot->starts_at; 
			  
                $schedule->end = $schedule->pivot->ends_at; 

            }
                        $batch = $batch[0];

        }   

        $events = $schedules->toArray();

        $channelvideos = Channelvideo::where('gize_channel_id', $gize_channel_id)->where('active', 1)->orderBy('id', 'DESC')->get();
        foreach ($channelvideos as $vid) {
            $vid->text = $vid->title;
        }

        $channelvideos = $channelvideos->toArray();


return $channelvideos;
$gize_channel = 1;
		$batch_id = 1;



        $batches = Batch::
            where('gize_channel_id', $gize_channel_id)
            ->whereIn('status', [1, 2])             ->orderBy('id', 'DESC')->get();

        $batch = null;
        $schedules = collect([]);

        if (isset($batch_id)) {
            $batch = Batch::where('gize_channel_id', $gize_channel_id)
                ->where('id', $batch_id)->get();

		  	return $batch_id;
		  
            $schedules = Batch::find($batch_id)->first()->channelvideos()
                ->wherePivot('batch_id', $batch_id)
                ->where('gize_channel_id', $gize_channel_id)->get();
		  
            foreach($schedules as $schedule){
                                $schedule->start = $schedule->pivot->starts_at; 
			  
                $schedule->end = $schedule->pivot->ends_at; 

            }
                        $batch = $batch[0];

        }   

        $events = $schedules->toArray();

        $channelvideos = Channelvideo::where('gize_channel_id', $gize_channel_id)->where('active', 1)->orderBy('id', 'DESC')->get();
        foreach ($channelvideos as $vid) {
            $vid->text = $vid->title;
        }

        $channelvideos = $channelvideos->toArray();


return $channelvideos;
$gize_channel = 1;
		$batch_id = 1;



        $batches = Batch::
            where('gize_channel_id', $gize_channel_id)
            ->whereIn('status', [1, 2])             ->orderBy('id', 'DESC')->get();

        $batch = null;
        $schedules = collect([]);

        if (isset($batch_id)) {
            $batch = Batch::where('gize_channel_id', $gize_channel_id)
                ->where('id', $batch_id)->get();

		  
            $schedules = Batch::find($batch_id)->first()->channelvideos()
                ->wherePivot('batch_id', $batch_id)
                ->where('gize_channel_id', $gize_channel_id)->get();
			
		    return $schedules;

            foreach($schedules as $schedule){
                                $schedule->start = $schedule->pivot->starts_at; 
			  
                $schedule->end = $schedule->pivot->ends_at; 

            }
                        $batch = $batch[0];

        }   

        $events = $schedules->toArray();

        $channelvideos = Channelvideo::where('gize_channel_id', $gize_channel_id)->where('active', 1)->orderBy('id', 'DESC')->get();
        foreach ($channelvideos as $vid) {
            $vid->text = $vid->title;
        }

        $channelvideos = $channelvideos->toArray();


return $channelvideos;
$gize_channel = 1;
		$batch_id = 2;



        $batches = Batch::
            where('gize_channel_id', $gize_channel_id)
            ->whereIn('status', [1, 2])             ->orderBy('id', 'DESC')->get();

        $batch = null;
        $schedules = collect([]);

        if (isset($batch_id)) {
            $batch = Batch::where('gize_channel_id', $gize_channel_id)
                ->where('id', $batch_id)->get();

		  
            $schedules = Batch::find($batch_id)->first()->channelvideos()
                ->wherePivot('batch_id', $batch_id)
                ->where('gize_channel_id', $gize_channel_id)->get();
			
		    return $schedules;

            foreach($schedules as $schedule){
                                $schedule->start = $schedule->pivot->starts_at; 
			  
                $schedule->end = $schedule->pivot->ends_at; 

            }
                        $batch = $batch[0];

        }   

        $events = $schedules->toArray();

        $channelvideos = Channelvideo::where('gize_channel_id', $gize_channel_id)->where('active', 1)->orderBy('id', 'DESC')->get();
        foreach ($channelvideos as $vid) {
            $vid->text = $vid->title;
        }

        $channelvideos = $channelvideos->toArray();


return $channelvideos;
$gize_channel = 1;
		$batch_id = 2;



        $batches = Batch::
            where('gize_channel_id', $gize_channel_id)
            ->whereIn('status', [1, 2])             ->orderBy('id', 'DESC')->get();

        $batch = null;
        $schedules = collect([]);

        if (isset($batch_id)) {
            $batch = Batch::where('gize_channel_id', $gize_channel_id)
                ->where('id', $batch_id)->get();

		  
            $schedules = Batch::find($batch_id)->first()->channelvideos()
                ->wherePivot('batch_id', $batch_id)
                ->where('gize_channel_id', $gize_channel_id)->get();
			
		    return $schedules;

            foreach($schedules as $schedule){
                                $schedule->start = $schedule->pivot->starts_at; 
			  
                $schedule->end = $schedule->pivot->ends_at; 

            }
                        $batch = $batch[0];

        }   

        $events = $schedules->toArray();

        $channelvideos = Channelvideo::where('gize_channel_id', $gize_channel_id)->where('active', 1)->orderBy('id', 'DESC')->get();
        foreach ($channelvideos as $vid) {
            $vid->text = $vid->title;
        }

        $channelvideos = $channelvideos->toArray();


return $channelvideos;
$gize_channel = 1;
		$batch_id = 2;



        $batches = Batch::
            where('gize_channel_id', $gize_channel_id)
            ->whereIn('status', [1, 2])             ->orderBy('id', 'DESC')->get();

        $batch = null;
        $schedules = collect([]);

        if (isset($batch_id)) {
            $batch = Batch::where('gize_channel_id', $gize_channel_id)
                ->where('id', $batch_id)->get();

		  
            $schedules = Batch::find($batch_id)->channelvideos()
                ->wherePivot('batch_id', $batch_id)
                ->where('gize_channel_id', $gize_channel_id)->get();
			
		    return $schedules;

            foreach($schedules as $schedule){
                                $schedule->start = $schedule->pivot->starts_at; 
			  
                $schedule->end = $schedule->pivot->ends_at; 

            }
                        $batch = $batch[0];

        }   

        $events = $schedules->toArray();

        $channelvideos = Channelvideo::where('gize_channel_id', $gize_channel_id)->where('active', 1)->orderBy('id', 'DESC')->get();
        foreach ($channelvideos as $vid) {
            $vid->text = $vid->title;
        }

        $channelvideos = $channelvideos->toArray();


return $channelvideos;
$gize_channel = 1;
		$batch_id = 2;



        $batches = Batch::
            where('gize_channel_id', $gize_channel_id)
            ->whereIn('status', [1, 2])             ->orderBy('id', 'DESC')->get();

        $batch = null;
        $schedules = collect([]);

        if (isset($batch_id)) {
            $batch = Batch::where('gize_channel_id', $gize_channel_id)
                ->where('id', $batch_id)->get();

		  
            $schedules = Batch::find($batch_id)->channelvideos()
                ->where('gize_channel_id', $gize_channel_id)->get();
			
		    return $schedules;

            foreach($schedules as $schedule){
                                $schedule->start = $schedule->pivot->starts_at; 
			  
                $schedule->end = $schedule->pivot->ends_at; 

            }
                        $batch = $batch[0];

        }   

        $events = $schedules->toArray();

        $channelvideos = Channelvideo::where('gize_channel_id', $gize_channel_id)->where('active', 1)->orderBy('id', 'DESC')->get();
        foreach ($channelvideos as $vid) {
            $vid->text = $vid->title;
        }

        $channelvideos = $channelvideos->toArray();


return $channelvideos;
$gize_channel = 1;
		$batch_id = 2;



        $batches = Batch::
            where('gize_channel_id', $gize_channel_id)
            ->whereIn('status', [1, 2])             ->orderBy('id', 'DESC')->get();

        $batch = null;
        $schedules = collect([]);

        if (isset($batch_id)) {
            $batch = Batch::where('gize_channel_id', $gize_channel_id)
                ->where('id', $batch_id)->get();

		  
            $schedules = BatchChannelvideo::where('batch_id', $batch_id)
                ->where('gize_channel_id', $gize_channel_id)->get();
			
		    return $schedules;

            foreach($schedules as $schedule){
                                $schedule->start = $schedule->pivot->starts_at; 
			  
                $schedule->end = $schedule->pivot->ends_at; 

            }
                        $batch = $batch[0];

        }   

        $events = $schedules->toArray();

        $channelvideos = Channelvideo::where('gize_channel_id', $gize_channel_id)->where('active', 1)->orderBy('id', 'DESC')->get();
        foreach ($channelvideos as $vid) {
            $vid->text = $vid->title;
        }

        $channelvideos = $channelvideos->toArray();


return $channelvideos;
$gize_channel = 1;
		$batch_id = 2;
$gize_channel_id = 1;



        $batches = Batch::
            where('gize_channel_id', $gize_channel_id)
            ->whereIn('status', [1, 2])             ->orderBy('id', 'DESC')->get();

        $batch = null;
        $schedules = collect([]);

        if (isset($batch_id)) {
            $batch = Batch::where('gize_channel_id', $gize_channel_id)
                ->where('id', $batch_id)->get();

		  
            $schedules = BatchChannelvideo::where('batch_id', $batch_id)
                ->where('gize_channel_id', $gize_channel_id)->get();
			
		    return $schedules;

            foreach($schedules as $schedule){
                                $schedule->start = $schedule->pivot->starts_at; 
			  
                $schedule->end = $schedule->pivot->ends_at; 

            }
                        $batch = $batch[0];

        }   

        $events = $schedules->toArray();

        $channelvideos = Channelvideo::where('gize_channel_id', $gize_channel_id)->where('active', 1)->orderBy('id', 'DESC')->get();
        foreach ($channelvideos as $vid) {
            $vid->text = $vid->title;
        }

        $channelvideos = $channelvideos->toArray();


return $channelvideos;
$gize_channel = 1;
		$batch_id = 2;
$gize_channel_id = 1;



        $batches = Batch::
            where('gize_channel_id', $gize_channel_id)
            ->whereIn('status', [1, 2])             ->orderBy('id', 'DESC')->get();

        $batch = null;
        $schedules = collect([]);

        if (isset($batch_id)) {
		  	$channelvideos = Channelvideo::where('active', 1)->get()->pluck('id');
            $batch = Batch::whereIn('channelvideo_id', $channelvideos)
                ->where('id', $batch_id)->get();

		  
            $schedules = BatchChannelvideo::where('batch_id', $batch_id)
                ->where('gize_channel_id', $gize_channel_id)->get();
			
		    return $schedules;

            foreach($schedules as $schedule){
                                $schedule->start = $schedule->pivot->starts_at; 
			  
                $schedule->end = $schedule->pivot->ends_at; 

            }
                        $batch = $batch[0];

        }   

        $events = $schedules->toArray();

        $channelvideos = Channelvideo::where('gize_channel_id', $gize_channel_id)->where('active', 1)->orderBy('id', 'DESC')->get();
        foreach ($channelvideos as $vid) {
            $vid->text = $vid->title;
        }

        $channelvideos = $channelvideos->toArray();


return $channelvideos;
$gize_channel = 1;
		$batch_id = 2;
$gize_channel_id = 1;



        $batches = Batch::
            where('gize_channel_id', $gize_channel_id)
            ->whereIn('status', [1, 2])             ->orderBy('id', 'DESC')->get();

        $batch = null;
        $schedules = collect([]);

        if (isset($batch_id)) {
		  	$channelvideos = Channelvideo::where('active', 1)->get()->pluck('id');
            $batch = Batch::whereIn('channelvideo_id', $channelvideos)
                ->where('id', $batch_id)->get();

		  
            $schedules = BatchChannelvideo::where('batch_id', $batch_id)
                ->where('gize_channel_id', $gize_channel_id)->get();
			
		    return $schedules;

            foreach($schedules as $schedule){
                                $schedule->start = $schedule->pivot->starts_at; 
			  
                $schedule->end = $schedule->pivot->ends_at; 

            }
                        $batch = $batch[0];

        }   

        $events = $schedules->toArray();

        $channelvideos = Channelvideo::where('gize_channel_id', $gize_channel_id)->where('active', 1)->orderBy('id', 'DESC')->get();
        foreach ($channelvideos as $vid) {
            $vid->text = $vid->title;
        }

        $channelvideos = $channelvideos->toArray();


return $channelvideos;
$gize_channel = 1;
		$batch_id = 2;
$gize_channel_id = 1;



        $batches = Batch::
            where('gize_channel_id', $gize_channel_id)
            ->whereIn('status', [1, 2])             ->orderBy('id', 'DESC')->get();

        $batch = null;
        $schedules = collect([]);

        if (isset($batch_id)) {
		  	$channelvideos = Channelvideo::where('active', 1)->get()->pluck('id');
            $batch = Batch::whereIn('channelvideo_id', $channelvideos)
                ->where('id', $batch_id)->get();

		  
            $schedules = BatchChannelvideo::where('batch_id', $batch_id)
                ->where('gize_channel_id', $gize_channel_id)->get();
			
		    return $schedules;

            foreach($schedules as $schedule){
                                $schedule->start = $schedule->pivot->starts_at; 
			  
                $schedule->end = $schedule->pivot->ends_at; 

            }
                        $batch = $batch[0];

        }   

        $events = $schedules->toArray();

        $channelvideos = Channelvideo::where('gize_channel_id', $gize_channel_id)->where('active', 1)->orderBy('id', 'DESC')->get();
        foreach ($channelvideos as $vid) {
            $vid->text = $vid->title;
        }

        $channelvideos = $channelvideos->toArray();


return $channelvideos;
$gize_channel = 1;
		$batch_id = 2;
$gize_channel_id = 1;



        $batches = Batch::
            where('gize_channel_id', $gize_channel_id)
            ->whereIn('status', [1, 2])             ->orderBy('id', 'DESC')->get();

        $batch = null;
        $schedules = collect([]);

        if (isset($batch_id)) {
		  	$channelvideos = Channelvideo::where('active', 1)->pluck('id');
            $batch = Batch::whereIn('channelvideo_id', $channelvideos)
                ->where('id', $batch_id)->get();

		  
            $schedules = BatchChannelvideo::where('batch_id', $batch_id)
                ->where('gize_channel_id', $gize_channel_id)->get();
			
		    return $schedules;

            foreach($schedules as $schedule){
                                $schedule->start = $schedule->pivot->starts_at; 
			  
                $schedule->end = $schedule->pivot->ends_at; 

            }
                        $batch = $batch[0];

        }   

        $events = $schedules->toArray();

        $channelvideos = Channelvideo::where('gize_channel_id', $gize_channel_id)->where('active', 1)->orderBy('id', 'DESC')->get();
        foreach ($channelvideos as $vid) {
            $vid->text = $vid->title;
        }

        $channelvideos = $channelvideos->toArray();


return $channelvideos;
$gize_channel = 1;
		$batch_id = 2;
$gize_channel_id = 1;



        $batches = Batch::
            where('gize_channel_id', $gize_channel_id)
            ->whereIn('status', [1, 2])             ->orderBy('id', 'DESC')->get();

        $batch = null;
        $schedules = collect([]);

        if (isset($batch_id)) {
		  	$channelvideos = Channelvideo::where('active', 1)->get()->pluck('id');
            $batch = Batch::whereIn('channelvideo_id', $channelvideos)
                ->where('id', $batch_id)->get();

		  	
            $schedules = BatchChannelvideo::where('batch_id', $batch_id)
                ->where('gize_channel_id', $gize_channel_id)->get();
			
		    return $channelvideos;

            foreach($schedules as $schedule){
                                $schedule->start = $schedule->pivot->starts_at; 
			  
                $schedule->end = $schedule->pivot->ends_at; 

            }
                        $batch = $batch[0];

        }   

        $events = $schedules->toArray();

        $channelvideos = Channelvideo::where('gize_channel_id', $gize_channel_id)->where('active', 1)->orderBy('id', 'DESC')->get();
        foreach ($channelvideos as $vid) {
            $vid->text = $vid->title;
        }

        $channelvideos = $channelvideos->toArray();


return $channelvideos;
$gize_channel = 1;
		$batch_id = 2;
$gize_channel_id = 1;



        $batches = Batch::
            where('gize_channel_id', $gize_channel_id)
            ->whereIn('status', [1, 2])             ->orderBy('id', 'DESC')->get();

        $batch = null;
        $schedules = collect([]);

        if (isset($batch_id)) {
		  	$channelvideos = Channelvideo::where('active', 1)->get()->pluck('id');
            $batch = Batch::whereIn('channelvideo_id', $channelvideos)
                ->where('id', $batch_id)->get();

		  	
            $schedules = BatchChannelvideo::where('batch_id', $batch_id)
                ->where('gize_channel_id', $gize_channel_id)->get();
			
		    return $channelvideos;

            foreach($schedules as $schedule){
                                $schedule->start = $schedule->pivot->starts_at; 
			  
                $schedule->end = $schedule->pivot->ends_at; 

            }
                        $batch = $batch[0];

        }   

        $events = $schedules->toArray();

        $channelvideos = Channelvideo::where('gize_channel_id', $gize_channel_id)->where('active', 1)->orderBy('id', 'DESC')->get();
        foreach ($channelvideos as $vid) {
            $vid->text = $vid->title;
        }

        $channelvideos = $channelvideos->toArray();


return $channelvideos;
$gize_channel = 1;
		$batch_id = 2;
$gize_channel_id = 1;



        $batches = Batch::
            where('gize_channel_id', $gize_channel_id)
            ->whereIn('status', [1, 2])             ->orderBy('id', 'DESC')->get();

        $batch = null;
        $schedules = collect([]);

        if (isset($batch_id)) {
		  	$channelvideos = Channelvideo::where('active', 1)->get();
            $batch = Batch::whereIn('channelvideo_id', $channelvideos)
                ->where('id', $batch_id)->get();

		  	
            $schedules = BatchChannelvideo::where('batch_id', $batch_id)
                ->where('gize_channel_id', $gize_channel_id)->get();
			
		    return $channelvideos;

            foreach($schedules as $schedule){
                                $schedule->start = $schedule->pivot->starts_at; 
			  
                $schedule->end = $schedule->pivot->ends_at; 

            }
                        $batch = $batch[0];

        }   

        $events = $schedules->toArray();

        $channelvideos = Channelvideo::where('gize_channel_id', $gize_channel_id)->where('active', 1)->orderBy('id', 'DESC')->get();
        foreach ($channelvideos as $vid) {
            $vid->text = $vid->title;
        }

        $channelvideos = $channelvideos->toArray();


return $channelvideos;
$gize_channel = 1;
		$batch_id = 2;
$gize_channel_id = 1;



        $batches = Batch::
            where('gize_channel_id', $gize_channel_id)
            ->whereIn('status', [1, 2])             ->orderBy('id', 'DESC')->get();

        $batch = null;
        $schedules = collect([]);

        if (isset($batch_id)) {
		  	return $channelvideos = Channelvideo::where('active', 1)->get();
            $batch = Batch::whereIn('channelvideo_id', $channelvideos)
                ->where('id', $batch_id)->get();

		  	
            $schedules = BatchChannelvideo::where('batch_id', $batch_id)
                ->where('gize_channel_id', $gize_channel_id)->get();
			
		    return $channelvideos;

            foreach($schedules as $schedule){
                                $schedule->start = $schedule->pivot->starts_at; 
			  
                $schedule->end = $schedule->pivot->ends_at; 

            }
                        $batch = $batch[0];

        }   

        $events = $schedules->toArray();

        $channelvideos = Channelvideo::where('gize_channel_id', $gize_channel_id)->where('active', 1)->orderBy('id', 'DESC')->get();
        foreach ($channelvideos as $vid) {
            $vid->text = $vid->title;
        }

        $channelvideos = $channelvideos->toArray();


return $channelvideos;
$gize_channel = 1;
		$batch_id = 2;
$gize_channel_id = 1;



        $batches = Batch::
            where('gize_channel_id', $gize_channel_id)
            ->whereIn('status', [1, 2])             ->orderBy('id', 'DESC')->get();

        $batch = null;
        $schedules = collect([]);
		  	return $channelvideos = Channelvideo::where('active', 1)->get();
        if (isset($batch_id)) {
            $batch = Batch::whereIn('channelvideo_id', $channelvideos)
                ->where('id', $batch_id)->get();

		  	
            $schedules = BatchChannelvideo::where('batch_id', $batch_id)
                ->where('gize_channel_id', $gize_channel_id)->get();
			
		    return $channelvideos;

            foreach($schedules as $schedule){
                                $schedule->start = $schedule->pivot->starts_at; 
			  
                $schedule->end = $schedule->pivot->ends_at; 

            }
                        $batch = $batch[0];

        }   

        $events = $schedules->toArray();

        $channelvideos = Channelvideo::where('gize_channel_id', $gize_channel_id)->where('active', 1)->orderBy('id', 'DESC')->get();
        foreach ($channelvideos as $vid) {
            $vid->text = $vid->title;
        }

        $channelvideos = $channelvideos->toArray();


return $channelvideos;
$gize_channel = 1;
		$batch_id = 2;
$gize_channel_id = 1;



        $batches = Batch::
            where('gize_channel_id', $gize_channel_id)
            ->whereIn('status', [1, 2])             ->orderBy('id', 'DESC')->get();

        $batch = null;
        $schedules = collect([]);
		  	return $channelvideos = Channelvideo::where('active', 1)->get()->pluck('id');
        if (isset($batch_id)) {
            $batch = Batch::whereIn('channelvideo_id', $channelvideos)
                ->where('id', $batch_id)->get();

		  	
            $schedules = BatchChannelvideo::where('batch_id', $batch_id)
                ->where('gize_channel_id', $gize_channel_id)->get();
			
		    return $channelvideos;

            foreach($schedules as $schedule){
                                $schedule->start = $schedule->pivot->starts_at; 
			  
                $schedule->end = $schedule->pivot->ends_at; 

            }
                        $batch = $batch[0];

        }   

        $events = $schedules->toArray();

        $channelvideos = Channelvideo::where('gize_channel_id', $gize_channel_id)->where('active', 1)->orderBy('id', 'DESC')->get();
        foreach ($channelvideos as $vid) {
            $vid->text = $vid->title;
        }

        $channelvideos = $channelvideos->toArray();


return $channelvideos;
$gize_channel = 1;
		$batch_id = 2;
$gize_channel_id = 1;



        $batches = Batch::
            where('gize_channel_id', $gize_channel_id)
            ->whereIn('status', [1, 2])             ->orderBy('id', 'DESC')->get();

        $batch = null;
        $schedules = collect([]);
		$channelvideos = Channelvideo::where('active', 1)->get()->pluck('id');

        if (isset($batch_id)) {
            $batch = Batch::whereIn('channelvideo_id', $channelvideos)
                ->where('id', $batch_id)->get();

		  	return $batch;
            $schedules = BatchChannelvideo::where('batch_id', $batch_id)
                ->where('gize_channel_id', $gize_channel_id)->get();
			
		    return $channelvideos;

            foreach($schedules as $schedule){
                                $schedule->start = $schedule->pivot->starts_at; 
			  
                $schedule->end = $schedule->pivot->ends_at; 

            }
                        $batch = $batch[0];

        }   

        $events = $schedules->toArray();

        $channelvideos = Channelvideo::where('gize_channel_id', $gize_channel_id)->where('active', 1)->orderBy('id', 'DESC')->get();
        foreach ($channelvideos as $vid) {
            $vid->text = $vid->title;
        }

        $channelvideos = $channelvideos->toArray();


return $channelvideos;
$gize_channel = 1;
		$batch_id = 2;
$gize_channel_id = 1;



        $batches = Batch::
            where('gize_channel_id', $gize_channel_id)
            ->whereIn('status', [1, 2])             ->orderBy('id', 'DESC')->get();

        $batch = null;
        $schedules = collect([]);
		$channelvideos = Channelvideo::where('active', 1)->get()->pluck('id');

        if (isset($batch_id)) {
            $batch = BatchChannelvideo::whereIn('channelvideo_id', $channelvideos)
                ->where('id', $batch_id)->get();

		  	return $batch;
            $schedules = BatchChannelvideo::where('batch_id', $batch_id)
                ->where('gize_channel_id', $gize_channel_id)->get();
			
		    return $channelvideos;

            foreach($schedules as $schedule){
                                $schedule->start = $schedule->pivot->starts_at; 
			  
                $schedule->end = $schedule->pivot->ends_at; 

            }
                        $batch = $batch[0];

        }   

        $events = $schedules->toArray();

        $channelvideos = Channelvideo::where('gize_channel_id', $gize_channel_id)->where('active', 1)->orderBy('id', 'DESC')->get();
        foreach ($channelvideos as $vid) {
            $vid->text = $vid->title;
        }

        $channelvideos = $channelvideos->toArray();


return $channelvideos;
$gize_channel = 1;
		$batch_id = 2;
$gize_channel_id = 1;



        $batches = Batch::
            where('gize_channel_id', $gize_channel_id)
            ->whereIn('status', [1, 2])             ->orderBy('id', 'DESC')->get();

        $batch = null;
        $schedules = collect([]);
		$channelvideos = Channelvideo::where('active', 1)->get()->pluck('id');

        if (isset($batch_id)) {
            $batch = BatchChannelvideo::where('video.channelvideo_id', $gize_channel_id)
                ->where('id', $batch_id)->get();

		  	return $batch;
            $schedules = BatchChannelvideo::where('batch_id', $batch_id)
                ->where('gize_channel_id', $gize_channel_id)->get();
			
		    return $channelvideos;

            foreach($schedules as $schedule){
                                $schedule->start = $schedule->pivot->starts_at; 
			  
                $schedule->end = $schedule->pivot->ends_at; 

            }
                        $batch = $batch[0];

        }   

        $events = $schedules->toArray();

        $channelvideos = Channelvideo::where('gize_channel_id', $gize_channel_id)->where('active', 1)->orderBy('id', 'DESC')->get();
        foreach ($channelvideos as $vid) {
            $vid->text = $vid->title;
        }

        $channelvideos = $channelvideos->toArray();


return $channelvideos;
$gize_channel = 1;
		$batch_id = 2;
$gize_channel_id = 1;



        $batches = Batch::
            where('gize_channel_id', $gize_channel_id)
            ->whereIn('status', [1, 2])             ->orderBy('id', 'DESC')->get();

        $batch = null;
        $schedules = collect([]);
		$channelvideos = Channelvideo::where('active', 1)->get()->pluck('id');

        if (isset($batch_id)) {
            $batch = BatchChannelvideo::where('video.channelvideo_id', $gize_channel_id)->get();

		  	return $batch;
            $schedules = BatchChannelvideo::where('batch_id', $batch_id)
                ->where('gize_channel_id', $gize_channel_id)->get();
			
		    return $channelvideos;

            foreach($schedules as $schedule){
                                $schedule->start = $schedule->pivot->starts_at; 
			  
                $schedule->end = $schedule->pivot->ends_at; 

            }
                        $batch = $batch[0];

        }   

        $events = $schedules->toArray();

        $channelvideos = Channelvideo::where('gize_channel_id', $gize_channel_id)->where('active', 1)->orderBy('id', 'DESC')->get();
        foreach ($channelvideos as $vid) {
            $vid->text = $vid->title;
        }

        $channelvideos = $channelvideos->toArray();


return $channelvideos;
$gize_channel = 1;
		$batch_id = 2;
$gize_channel_id = 1;



        $batches = Batch::
            where('gize_channel_id', $gize_channel_id)
            ->whereIn('status', [1, 2])             ->orderBy('id', 'DESC')->get();

        $batch = null;
        $schedules = collect([]);
		$channelvideos = Channelvideo::where('active', 1)->get()->pluck('id');

        if (isset($batch_id)) {
            $batch = BatchChannelvideo::whereIn('channelvideo_id', $channelvideos)
                ->where('id', $batch_id)->get();

		  	return $batch;
            $schedules = BatchChannelvideo::where('batch_id', $batch_id)
                ->where('gize_channel_id', $gize_channel_id)->get();
			
		    return $channelvideos;

            foreach($schedules as $schedule){
                                $schedule->start = $schedule->pivot->starts_at; 
			  
                $schedule->end = $schedule->pivot->ends_at; 

            }
                        $batch = $batch[0];

        }   

        $events = $schedules->toArray();

        $channelvideos = Channelvideo::where('gize_channel_id', $gize_channel_id)->where('active', 1)->orderBy('id', 'DESC')->get();
        foreach ($channelvideos as $vid) {
            $vid->text = $vid->title;
        }

        $channelvideos = $channelvideos->toArray();


return $channelvideos;
$gize_channel = 1;
		$batch_id = 2;
$gize_channel_id = 1;



        $batches = Batch::
            where('gize_channel_id', $gize_channel_id)
            ->whereIn('status', [1, 2])             ->orderBy('id', 'DESC')->get();

        $batch = null;
        $schedules = collect([]);
		$channelvideos = Channelvideo::where('active', 1)->get()->pluck('id');

        if (isset($batch_id)) {
            $batch = BatchChannelvideo::whereIn('channelvideo_id', $channelvideos)
                ->get();

		  	return $batch;
            $schedules = BatchChannelvideo::where('batch_id', $batch_id)
                ->where('gize_channel_id', $gize_channel_id)->get();
			
		    return $channelvideos;

            foreach($schedules as $schedule){
                                $schedule->start = $schedule->pivot->starts_at; 
			  
                $schedule->end = $schedule->pivot->ends_at; 

            }
                        $batch = $batch[0];

        }   

        $events = $schedules->toArray();

        $channelvideos = Channelvideo::where('gize_channel_id', $gize_channel_id)->where('active', 1)->orderBy('id', 'DESC')->get();
        foreach ($channelvideos as $vid) {
            $vid->text = $vid->title;
        }

        $channelvideos = $channelvideos->toArray();


return $channelvideos;
$gize_channel = 1;
		$batch_id = 1;
$gize_channel_id = 1;



        $batches = Batch::
            where('gize_channel_id', $gize_channel_id)
            ->whereIn('status', [1, 2])             ->orderBy('id', 'DESC')->get();

        $batch = null;
        $schedules = collect([]);
		$channelvideos = Channelvideo::where('active', 1)->get()->pluck('id');

        if (isset($batch_id)) {
            $batch = BatchChannelvideo::whereIn('channelvideo_id', $channelvideos)
                ->get();

		  	return $batch;
            $schedules = BatchChannelvideo::where('batch_id', $batch_id)
                ->where('gize_channel_id', $gize_channel_id)->get();
			
		    return $channelvideos;

            foreach($schedules as $schedule){
                                $schedule->start = $schedule->pivot->starts_at; 
			  
                $schedule->end = $schedule->pivot->ends_at; 

            }
                        $batch = $batch[0];

        }   

        $events = $schedules->toArray();

        $channelvideos = Channelvideo::where('gize_channel_id', $gize_channel_id)->where('active', 1)->orderBy('id', 'DESC')->get();
        foreach ($channelvideos as $vid) {
            $vid->text = $vid->title;
        }

        $channelvideos = $channelvideos->toArray();


return $channelvideos;
$gize_channel = 1;
		$batch_id = 2;
$gize_channel_id = 1;



        $batches = Batch::
            where('gize_channel_id', $gize_channel_id)
            ->whereIn('status', [1, 2])             ->orderBy('id', 'DESC')->get();

        $batch = null;
        $schedules = collect([]);
		$channelvideos = Channelvideo::where('active', 1)->get()->pluck('id');

        if (isset($batch_id)) {
            $batch = BatchChannelvideo::whereIn('channelvideo_id', $channelvideos)
                ->where('batch_id', $batch_id)->get();

		  	return $batch;
            $schedules = BatchChannelvideo::where('batch_id', $batch_id)
                ->where('gize_channel_id', $gize_channel_id)->get();
			
		    return $channelvideos;

            foreach($schedules as $schedule){
                                $schedule->start = $schedule->pivot->starts_at; 
			  
                $schedule->end = $schedule->pivot->ends_at; 

            }
                        $batch = $batch[0];

        }   

        $events = $schedules->toArray();

        $channelvideos = Channelvideo::where('gize_channel_id', $gize_channel_id)->where('active', 1)->orderBy('id', 'DESC')->get();
        foreach ($channelvideos as $vid) {
            $vid->text = $vid->title;
        }

        $channelvideos = $channelvideos->toArray();


return $channelvideos;
$gize_channel = 1;
		$batch_id = 1;
$gize_channel_id = 1;



        $batches = Batch::
            where('gize_channel_id', $gize_channel_id)
            ->whereIn('status', [1, 2])             ->orderBy('id', 'DESC')->get();

        $batch = null;
        $schedules = collect([]);
		$channelvideos = Channelvideo::where('active', 1)->get()->pluck('id');

        if (isset($batch_id)) {
            $batch = BatchChannelvideo::whereIn('channelvideo_id', $channelvideos)
                ->where('batch_id', $batch_id)->get();

		  	return $batch;
            $schedules = BatchChannelvideo::where('batch_id', $batch_id)
                ->where('gize_channel_id', $gize_channel_id)->get();
			
		    return $channelvideos;

            foreach($schedules as $schedule){
                                $schedule->start = $schedule->pivot->starts_at; 
			  
                $schedule->end = $schedule->pivot->ends_at; 

            }
                        $batch = $batch[0];

        }   

        $events = $schedules->toArray();

        $channelvideos = Channelvideo::where('gize_channel_id', $gize_channel_id)->where('active', 1)->orderBy('id', 'DESC')->get();
        foreach ($channelvideos as $vid) {
            $vid->text = $vid->title;
        }

        $channelvideos = $channelvideos->toArray();


return $channelvideos;
$gize_channel = 1;
		$batch_id = 2;
$gize_channel_id = 1;



        $batches = Batch::
            where('gize_channel_id', $gize_channel_id)
            ->whereIn('status', [1, 2])             ->orderBy('id', 'DESC')->get();

        $batch = null;
        $schedules = collect([]);
		$channelvideos = Channelvideo::where('active', 1)->get()->pluck('id');

        if (isset($batch_id)) {
            $batch = BatchChannelvideo::whereIn('channelvideo_id', $channelvideos)
                ->where('batch_id', $batch_id)->get();

		  	return $batch;
            $schedules = BatchChannelvideo::where('batch_id', $batch_id)
                ->where('gize_channel_id', $gize_channel_id)->get();
			
		    return $channelvideos;

            foreach($schedules as $schedule){
                                $schedule->start = $schedule->pivot->starts_at; 
			  
                $schedule->end = $schedule->pivot->ends_at; 

            }
                        $batch = $batch[0];

        }   

        $events = $schedules->toArray();

        $channelvideos = Channelvideo::where('gize_channel_id', $gize_channel_id)->where('active', 1)->orderBy('id', 'DESC')->get();
        foreach ($channelvideos as $vid) {
            $vid->text = $vid->title;
        }

        $channelvideos = $channelvideos->toArray();


return $channelvideos;
$gize_channel = 1;
		$batch_id = 1;
$gize_channel_id = 1;



        $batches = Batch::
            where('gize_channel_id', $gize_channel_id)
            ->whereIn('status', [1, 2])             ->orderBy('id', 'DESC')->get();

        $batch = null;
        $schedules = collect([]);
		$channelvideos = Channelvideo::where('active', 1)->get()->pluck('id');

        if (isset($batch_id)) {
            $batch = BatchChannelvideo::whereIn('channelvideo_id', $channelvideos)
                ->where('batch_id', $batch_id)->get();

		  	return $batch;
            $schedules = BatchChannelvideo::where('batch_id', $batch_id)
                ->where('gize_channel_id', $gize_channel_id)->get();
			
		    return $channelvideos;

            foreach($schedules as $schedule){
                                $schedule->start = $schedule->pivot->starts_at; 
			  
                $schedule->end = $schedule->pivot->ends_at; 

            }
                        $batch = $batch[0];

        }   

        $events = $schedules->toArray();

        $channelvideos = Channelvideo::where('gize_channel_id', $gize_channel_id)->where('active', 1)->orderBy('id', 'DESC')->get();
        foreach ($channelvideos as $vid) {
            $vid->text = $vid->title;
        }

        $channelvideos = $channelvideos->toArray();


return $channelvideos;
$gize_channel = 1;
		$batch_id = 1;
$gize_channel_id = 1;



        $batches = Batch::
            where('gize_channel_id', $gize_channel_id)
            ->whereIn('status', [1, 2])             ->orderBy('id', 'DESC')->get();

        $batch = null;
        $schedules = collect([]);
		$channelvideos = Channelvideo::where('active', 1)->get()->pluck('id');

        if (isset($batch_id)) {
            $event = BatchChannelvideo::whereIn('channelvideo_id', $channelvideos)
                ->where('batch_id', $batch_id)->get();

		  	return $event;
            $schedules = BatchChannelvideo::where('batch_id', $batch_id)
                ->where('gize_channel_id', $gize_channel_id)->get();
			
		    return $channelvideos;

            foreach($schedules as $schedule){
                                $schedule->start = $schedule->pivot->starts_at; 
			  
                $schedule->end = $schedule->pivot->ends_at; 

            }
                        $batch = $batch[0];

        }   

        $events = $schedules->toArray();

        $channelvideos = Channelvideo::where('gize_channel_id', $gize_channel_id)->where('active', 1)->orderBy('id', 'DESC')->get();
        foreach ($channelvideos as $vid) {
            $vid->text = $vid->title;
        }

        $channelvideos = $channelvideos->toArray();


return $channelvideos;
$gize_channel = 1;
		$batch_id = 1;
$gize_channel_id = 1;



        $batches = Batch::
            where('gize_channel_id', $gize_channel_id)
            ->whereIn('status', [1, 2])             ->orderBy('id', 'DESC')->get();

        $batch = null;
        $schedules = collect([]);
		$channelvideos = Channelvideo::where('active', 1)->get()->pluck('id');

$batch_channelvideos = collect([]);
        if (isset($batch_id)) {
		  
            $batch_channelvideos = BatchChannelvideo::whereIn('channelvideo_id', $channelvideos)
                ->where('batch_id', $batch_id)->get();
		  	foreach($batch_channelvideos as $event){
				$event->start = $event->starts_at; 

				$event->end = $event->ends_at; 
			  
				$batch_channelvideos = $batch_channelvideos->merge($event);
			}

		  	return $batch_channelvideos;
            $schedules = BatchChannelvideo::where('batch_id', $batch_id)
                ->where('gize_channel_id', $gize_channel_id)->get();
			
		    return $channelvideos;

            foreach($schedules as $schedule){
                                $schedule->start = $schedule->pivot->starts_at; 
			  
                $schedule->end = $schedule->pivot->ends_at; 

            }
                        $batch = $batch[0];

        }   

        $events = $schedules->toArray();

        $channelvideos = Channelvideo::where('gize_channel_id', $gize_channel_id)->where('active', 1)->orderBy('id', 'DESC')->get();
        foreach ($channelvideos as $vid) {
            $vid->text = $vid->title;
        }

        $channelvideos = $channelvideos->toArray();


return $channelvideos;
$gize_channel = 1;
		$batch_id = 1;
$gize_channel_id = 1;



        $batches = Batch::
            where('gize_channel_id', $gize_channel_id)
            ->whereIn('status', [1, 2])             ->orderBy('id', 'DESC')->get();

        $batch = null;
        $schedules = collect([]);
		$channelvideos = Channelvideo::where('active', 1)->get()->pluck('id');

$batch_channelvideos = collect([]);
        if (isset($batch_id)) {
		  
            $batch_channelvideos = BatchChannelvideo::whereIn('channelvideo_id', $channelvideos)
                ->where('batch_id', $batch_id)->get();
		  
		  	foreach($batch_channelvideos as $event){
				$event->start = $event->starts_at; 

				$event->end = $event->ends_at; 
			  
							}

		  	return $batch_channelvideos;
            $schedules = BatchChannelvideo::where('batch_id', $batch_id)
                ->where('gize_channel_id', $gize_channel_id)->get();
			
		    return $channelvideos;

            foreach($schedules as $schedule){
                                $schedule->start = $schedule->pivot->starts_at; 
			  
                $schedule->end = $schedule->pivot->ends_at; 

            }
                        $batch = $batch[0];

        }   

        $events = $schedules->toArray();

        $channelvideos = Channelvideo::where('gize_channel_id', $gize_channel_id)->where('active', 1)->orderBy('id', 'DESC')->get();
        foreach ($channelvideos as $vid) {
            $vid->text = $vid->title;
        }

        $channelvideos = $channelvideos->toArray();


return $channelvideos;
$gize_channel = 1;
		$batch_id = 1;
$gize_channel_id = 1;



        $batches = Batch::
            where('gize_channel_id', $gize_channel_id)
            ->whereIn('status', [1, 2])             ->orderBy('id', 'DESC')->get();

        $batch = null;
        $schedules = collect([]);
		$channelvideos = Channelvideo::where('active', 1)->get()->pluck('id');

$batch_channelvideos = new Collection([]);
        if (isset($batch_id)) {
		  
            $batch_channelvideos = BatchChannelvideo::whereIn('channelvideo_id', $channelvideos)
                ->where('batch_id', $batch_id)->get();
		  
		  	foreach($batch_channelvideos as $event){
				$event->start = $event->starts_at; 

				$event->end = $event->ends_at; 
			  
							}

		  	return $batch_channelvideos;
            $schedules = BatchChannelvideo::where('batch_id', $batch_id)
                ->where('gize_channel_id', $gize_channel_id)->get();
			
		    return $channelvideos;

            foreach($schedules as $schedule){
                                $schedule->start = $schedule->pivot->starts_at; 
			  
                $schedule->end = $schedule->pivot->ends_at; 

            }
                        $batch = $batch[0];

        }   

        $events = $schedules->toArray();

        $channelvideos = Channelvideo::where('gize_channel_id', $gize_channel_id)->where('active', 1)->orderBy('id', 'DESC')->get();
        foreach ($channelvideos as $vid) {
            $vid->text = $vid->title;
        }

        $channelvideos = $channelvideos->toArray();


return $channelvideos;
$gize_channel = 1;
		$batch_id = 1;
$gize_channel_id = 1;



        $batches = Batch::
            where('gize_channel_id', $gize_channel_id)
            ->whereIn('status', [1, 2])             ->orderBy('id', 'DESC')->get();

        $batch = null;
        $schedules = collect([]);
		$channelvideos = Channelvideo::where('active', 1)->get()->pluck('id');

$batch_channelvideos = collect([]);
        if (isset($batch_id)) {
		  
            $batch_channelvideos = BatchChannelvideo::whereIn('channelvideo_id', $channelvideos)
                ->where('batch_id', $batch_id)->get();
		  
		  	foreach($batch_channelvideos as $event){
				$event->start = $event->starts_at; 

				$event->end = $event->ends_at; 
			  
							}

		  	return $batch_channelvideos;
            $schedules = BatchChannelvideo::where('batch_id', $batch_id)
                ->where('gize_channel_id', $gize_channel_id)->get();
			
		    return $channelvideos;

            foreach($schedules as $schedule){
                                $schedule->start = $schedule->pivot->starts_at; 
			  
                $schedule->end = $schedule->pivot->ends_at; 

            }
                        $batch = $batch[0];

        }   

        $events = $schedules->toArray();

        $channelvideos = Channelvideo::where('gize_channel_id', $gize_channel_id)->where('active', 1)->orderBy('id', 'DESC')->get();
        foreach ($channelvideos as $vid) {
            $vid->text = $vid->title;
        }

        $channelvideos = $channelvideos->toArray();


return $channelvideos;
$gize_channel = 1;
		$batch_id = 1;
$gize_channel_id = 1;



        $batches = Batch::
            where('gize_channel_id', $gize_channel_id)
            ->whereIn('status', [1, 2])             ->orderBy('id', 'DESC')->get();

        $batch = null;
        $schedules = collect([]);
		$channelvideos = Channelvideo::where('active', 1)->get()->pluck('id');

$batch_channelvideos = collect([]);
        if (isset($batch_id)) {
		  
            $batch_channelvideos = BatchChannelvideo::whereIn('channelvideo_id', $channelvideos)
                ->where('batch_id', $batch_id)->get();
		  
		  	foreach($batch_channelvideos as $event){
				$event->start = $event->starts_at; 

				$event->end = $event->ends_at; 
				$event->title = $event->video->first()->title; 

			  
							}

		  	return $batch_channelvideos;
            $schedules = BatchChannelvideo::where('batch_id', $batch_id)
                ->where('gize_channel_id', $gize_channel_id)->get();
			
		    return $channelvideos;

            foreach($schedules as $schedule){
                                $schedule->start = $schedule->pivot->starts_at; 
			  
                $schedule->end = $schedule->pivot->ends_at; 

            }
                        $batch = $batch[0];

        }   

        $events = $schedules->toArray();

        $channelvideos = Channelvideo::where('gize_channel_id', $gize_channel_id)->where('active', 1)->orderBy('id', 'DESC')->get();
        foreach ($channelvideos as $vid) {
            $vid->text = $vid->title;
        }

        $channelvideos = $channelvideos->toArray();


return $channelvideos;
$gize_channel = 1;
		$batch_id = 1;
$gize_channel_id = 1;



        $batches = Batch::
            where('gize_channel_id', $gize_channel_id)
            ->whereIn('status', [1, 2])             ->orderBy('id', 'DESC')->get();

        $batch = null;
        $schedules = collect([]);
		$channelvideos = Channelvideo::where('active', 1)->get()->pluck('id');

$events = collect([]);
        if (isset($batch_id)) {
		  
            $events = BatchChannelvideo::whereIn('channelvideo_id', $channelvideos)
                ->where('batch_id', $batch_id)->get();
		  
		  	foreach($events as $event){
				$event->start = $event->starts_at; 

				$event->end = $event->ends_at; 
				$event->title = $event->video->first()->title; 

			  
							}

		  	return $events;
            
                        $batch = $batch[0];

        }   

        $events = $schedules->toArray();

        $channelvideos = Channelvideo::where('gize_channel_id', $gize_channel_id)->where('active', 1)->orderBy('id', 'DESC')->get();
        foreach ($channelvideos as $vid) {
            $vid->text = $vid->title;
        }

        $channelvideos = $channelvideos->toArray();


return $channelvideos;
$gize_channel = 1;
		$batch_id = 1;
$gize_channel_id = 1;



        $batches = Batch::
            where('gize_channel_id', $gize_channel_id)
            ->whereIn('status', [1, 2])             ->orderBy('id', 'DESC')->get();

        $batch = null;
        $schedules = collect([]);
		$channelvideos = Channelvideo::where('active', 1)->get()->pluck('id');

$events = collect([]);
        if (isset($batch_id)) {
		  
            $events = BatchChannelvideo::whereIn('channelvideo_id', $channelvideos)
                ->where('batch_id', $batch_id)->get();
		  
		  	foreach($events as $event){
				$event->start = $event->starts_at; 

				$event->end = $event->ends_at; 
				$event->title = $event->video->first()->title; 

			  
							}

            
                        $batch = Batch::find($batch_id);

        }   

        $events = $schedules->toArray();

        $channelvideos = Channelvideo::where('gize_channel_id', $gize_channel_id)->where('active', 1)->orderBy('id', 'DESC')->get();
        foreach ($channelvideos as $vid) {
            $vid->text = $vid->title;
        }

        $channelvideos = $channelvideos->toArray();


return $channelvideos;
$gize_channel = 1;
		$batch_id = 1;
$gize_channel_id = 1;



        $batches = Batch::
            where('gize_channel_id', $gize_channel_id)
            ->whereIn('status', [1, 2])             ->orderBy('id', 'DESC')->get();

        $batch = null;
        $schedules = collect([]);
		$channelvideos = Channelvideo::where('active', 1)->get()->pluck('id');

$events = collect([]);
        if (isset($batch_id)) {
		  
            $events = BatchChannelvideo::whereIn('channelvideo_id', $channelvideos)
                ->where('batch_id', $batch_id)->get();
		  
		  	foreach($events as $event){
				$event->start = $event->starts_at; 

				$event->end = $event->ends_at; 
				$event->title = $event->video->first()->title; 

			  
							}

            
                        $batch = Batch::find($batch_id);

        }   

        $events = $schedules->toArray();

        $channelvideos = Channelvideo::where('gize_channel_id', $gize_channel_id)->where('active', 1)->orderBy('id', 'DESC')->get();
        foreach ($channelvideos as $vid) {
            $vid->text = $vid->title;
        }

        $channelvideos = $channelvideos->toArray();

return $batch;
$gize_channel = 1;
		$batch_id = 1;
$gize_channel_id = 1;



        $batches = Batch::
            where('gize_channel_id', $gize_channel_id)
            ->whereIn('status', [1, 2])             ->orderBy('id', 'DESC')->get();

        $batch = null;
        $schedules = collect([]);
		$channelvideos = Channelvideo::where('active', 1)->get()->pluck('id');

$events = collect([]);
        if (isset($batch_id)) {
		  
            $events = BatchChannelvideo::whereIn('channelvideo_id', $channelvideos)
                ->where('batch_id', $batch_id)->get();
		  
		  	foreach($events as $event){
				$event->start = $event->starts_at; 

				$event->end = $event->ends_at; 
				$event->title = $event->video->first()->title; 

			  
							}

            
                        $batch = Batch::find($batch_id);

        }   

        $events = $schedules->toArray();

        $channelvideos = Channelvideo::where('gize_channel_id', $gize_channel_id)->where('active', 1)->orderBy('id', 'DESC')->get();
        foreach ($channelvideos as $vid) {
            $vid->text = $vid->title;
        }

        $channelvideos = $channelvideos->toArray();

return $events;
$gize_channel = 1;
		$batch_id = 1;
$gize_channel_id = 1;



        $batches = Batch::
            where('gize_channel_id', $gize_channel_id)
            ->whereIn('status', [1, 2])             ->orderBy('id', 'DESC')->get();

        $batch = null;
        $schedules = collect([]);
		$channelvideos = Channelvideo::where('active', 1)->get()->pluck('id');

$events = collect([]);
        if (isset($batch_id)) {
		  
            $events = BatchChannelvideo::whereIn('channelvideo_id', $channelvideos)
                ->where('batch_id', $batch_id)->get();
		  
		  	foreach($events as $event){
				$event->start = $event->starts_at; 

				$event->end = $event->ends_at; 
				$event->title = $event->video->first()->title; 

			  
							}

            
                        $batch = Batch::find($batch_id);

        }   

        $events = $events->toArray();

        $channelvideos = Channelvideo::where('gize_channel_id', $gize_channel_id)->where('active', 1)->orderBy('id', 'DESC')->get();
        foreach ($channelvideos as $vid) {
            $vid->text = $vid->title;
        }

        $channelvideos = $channelvideos->toArray();

return $events;
$gize_channel = 1;
		$batch_id = 1;
$gize_channel_id = 1;



        $batches = Batch::
            where('gize_channel_id', $gize_channel_id)
            ->whereIn('status', [1, 2])             ->orderBy('id', 'DESC')->get();

        $batch = null;
        $schedules = collect([]);
		$channelvideos = Channelvideo::where('active', 1)->get()->pluck('id');

$events = collect([]);
        if (isset($batch_id)) {
		  
            $events = BatchChannelvideo::whereIn('channelvideo_id', $channelvideos)
                ->where('batch_id', $batch_id)->get();
		  
		  	foreach($events as $event){
				$event->start = $event->starts_at; 

				$event->end = $event->ends_at; 
				$event->title = $event->video->first()->title; 

			  
							}

            
                        $batch = Batch::find($batch_id);

        }   

        $events = $events->toArray();

        $channelvideos = Channelvideo::where('gize_channel_id', $gize_channel_id)->where('active', 1)->orderBy('id', 'DESC')->get();
        foreach ($channelvideos as $vid) {
            $vid->text = $vid->title;
        }

        $channelvideos = $channelvideos->toArray();

return $batches;
$gize_channel = 1;
		$batch_id = 1;
$gize_channel_id = 1;



        $batches = Batch::
            where('gize_channel_id', $gize_channel_id)
            ->whereIn('status', [1, 2])             ->orderBy('id', 'DESC')->get();

        $batch = null;
        $schedules = collect([]);
		$channelvideos = Channelvideo::where('active', 1)->get()->pluck('id');

$events = collect([]);
        if (isset($batch_id)) {
		  
            $events = BatchChannelvideo::whereIn('channelvideo_id', $channelvideos)
                ->where('batch_id', $batch_id)->get();
		  
		  	foreach($events as $event){
				$event->start = $event->starts_at; 

				$event->end = $event->ends_at; 
				$event->title = $event->video->first()->title; 

			  
							}

            
                        $batch = Batch::find($batch_id);

        }   

        $events = $events->toArray();

        $channelvideos = Channelvideo::where('gize_channel_id', $gize_channel_id)->where('active', 1)->orderBy('id', 'DESC')->get();
        foreach ($channelvideos as $vid) {
            $vid->text = $vid->title;
        }

        $channelvideos = $channelvideos->toArray();

return $gize_channel;
$gize_channel_id = 1;
		$batch_id = 1;
        $gize_channel = GizeChannel::find($gize_channel_id);




        $batches = Batch::
            where('gize_channel_id', $gize_channel_id)
            ->whereIn('status', [1, 2])             ->orderBy('id', 'DESC')->get();

        $batch = null;
        $schedules = collect([]);
		$channelvideos = Channelvideo::where('active', 1)->get()->pluck('id');

$events = collect([]);
        if (isset($batch_id)) {
		  
            $events = BatchChannelvideo::whereIn('channelvideo_id', $channelvideos)
                ->where('batch_id', $batch_id)->get();
		  
		  	foreach($events as $event){
				$event->start = $event->starts_at; 

				$event->end = $event->ends_at; 
				$event->title = $event->video->first()->title; 

			  
							}

            
                        $batch = Batch::find($batch_id);

        }   

        $events = $events->toArray();

        $channelvideos = Channelvideo::where('gize_channel_id', $gize_channel_id)->where('active', 1)->orderBy('id', 'DESC')->get();
        foreach ($channelvideos as $vid) {
            $vid->text = $vid->title;
        }

        $channelvideos = $channelvideos->toArray();

return $gize_channel;
